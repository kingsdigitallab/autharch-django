{% extends "./base.html" %}
{% block main %}
<main id="duplicates-subpage">
    {% block page_header %}
        <a href="{{ edit_url }}"><i class="fas fa-chevron-left margin-right"></i><span class="dotted-underline">Back to {{ entity|truncatewords:15 }}</span></a>

        <div class="page-header">
            <h1>Duplicates: {{entity}} (2)</h1>
        </div>
    {% endblock page_header %}
    {% block content %}
        <!-- <div class="success-notification">
            <h4>Your updates were successfully saved.</h4>
        </div> -->
        <div class="current-record">
            <p class="highlight">Browsed record:</p>
            <a href="{{ edit_url }}" target="_blank" class="dotted-underline">{{entity}}</a><br>
            Record ID: {{entity.id}}<span class="divider"></span>Type: {{entity.entity_type}}<span class="divider"></span>Publication status: {{publication_status}}<span class="divider"></span>Updated: {{ last_revision.date_created }} by {{ last_revision.user }}
        </div>
        <form action="." id="add-record-form">
            <input type="text" name="add_record" aria-label="Add a record by record id or display name" placeholder="Add a record by record id or display name" onfocus="this.placeholder=''" onblur="this.placeholder='Add a record by record id or display name'"/>
            <input type="submit" class="create" aria-label="Add a record" value="Add"/>
        </form>
        <form action="." id="duplicates-form">
            <div class="duplicates-list">
                <p class="highlight">Merge data from duplicates into browsed record:</p>
                <div class="record">
                    <span class="cta">
                        <input type="radio" name="duplicate_1" id="duplicate_[entity_id1]" value="true">
                        <label for="duplicate_[entity_id1]">Merge</label>
                        <input type="radio" name="duplicate_1"  id="not_duplicate_[entity_id1]" value="false">
                        <label for="not_duplicate_[entity_id1]">Not related</label>
                    </span>
                    <span>
                       <a href="{{ edit_url }}" target="_blank" class="dotted-underline">[entity_display_name]</a><span class="divider"></span><a href=""><i class="fal fa-copy"></i> <span class="dotted-underline">See the duplicates page of this record</span></a><br>
                        Record ID: [entity_id1]<span class="divider"></span>Type: [entity_type]<span class="divider"></span>Publication status: [publication_status]<span class="divider"></span>Updated: [ entity_updated ] by [ username ]
                    </span>
                </div>
                <div class="record">
                    <span class="cta">
                        <input type="radio" name="duplicate_2" id="duplicate_[entity_id2]" value="true">
                        <label for="duplicate_[entity_id2]">Merge</label>
                        <input type="radio" name="duplicate_2"  id="not_duplicate_[entity_id2]" value="false">
                        <label for="not_duplicate_[entity_id2]">Not related</label>
                    </span>
                    <span>
                       <a href="{{ edit_url }}" target="_blank" class="dotted-underline">[entity_display_name]</a><span class="divider"></span><a href=""><i class="fal fa-copy"></i> <span class="dotted-underline">See the duplicates page of this record</span></a><br>
                        Record ID: [entity_id2]<span class="divider"></span>Type: [entity_type]<span class="divider"></span>Publication status: [publication_status]<span class="divider"></span>Updated: [ entity_updated ] by [ username ]
                    </span>
                </div>
            </div>
            <!-- if manually_removed > 0 -->
            <label for="show-removed-checkbox" class="dotted-underline">Show/hide records marked as "not related":</label>
            <input type="checkbox" id="show-removed-checkbox"/>
            <div class="manually-removed">
                <div class="record">
                    <span class="cta">
                        <input type="radio" name="duplicate_3" id="duplicate_[entity_id3]" value="true">
                        <label for="duplicate_[entity_id3]">Merge</label>
                        <input type="radio" name="duplicate_3"  id="not_duplicate_[entity_id3]" value="false" checked>
                        <label for="not_duplicate_[entity_id3]">Not related</label>
                    </span>
                    <span>
                       <a href="{{ edit_url }}" target="_blank" class="dotted-underline">[entity_display_name]</a><span class="divider"></span><a href=""><i class="fal fa-copy"></i> <span class="dotted-underline">See the duplicates page of this record</span></a><br>
                        Record ID: [entity_id3]<span class="divider"></span>Type: [entity_type]<span class="divider"></span>Publication status: [publication_status]<span class="divider"></span>Updated: [ entity_updated ] by [ username ]
                    </span>
                </div>
            </div>
            <input name="duplicates_submit" aria-label="submit button to save the duplicated records table" type="submit" class="save" value="Save list" />
        </form>
        <!-- if duplicates.length == 0 -->
        <!-- <div class="empty-block">
            <p>You don't have duplicates for this record. &#127881;</p>
        </div> -->
    {% endblock content %}
</main>
{% endblock main %}