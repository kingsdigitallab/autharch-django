{% extends "./base.html" %}
{% load editor_form_tags %}

{% block extra_head %}
{{ form_media }}
{% endblock extra_head %}

{% block main %}
<main id="group-edit">
  {% block page_header %}
  <div class="header-fixed">
    <div class="status-bar">
    </div>
    <div class="action-buttons">
      <input type="submit" value="Save" form="record-form" class="save"/>
    </div>
  </div>
  {% endblock page_header %}

  {% block content %}
  <div class="form-header">
    <div class="breadcrumbs">
      <ul>
        <li><a href="{% url 'editor:home' %}">Home</a></li>
        <li>{% if current_section == 'groups' %}<a href="{% url 'editor:groups-list' %}" class="dotted-underline">Object groups</a>{% else %}<a href="{% url 'editor:deleted-list' %}" class="dotted-underline">Deleted</a>{% endif %}</li>
      </ul>
    </div>

    {% if form.errors %}
    <div class="error-notification">
      <button class="icon-only" aria-label="close notification" onclick="removeNotification()">&#xf00d;</button>
      <h4>Errors</h4>
      {% for error in form.errors %}
      <p>{{ error }}</p>
      {% endfor %}
    </div>
    {% endif %}

    <h1>Create a new object group</h1>
  </div>
  <form action="{% url 'editor:group-create' %}" id="record-form" method="post">
    {% csrf_token %}
    <div class="form-section formset">
      <fieldset>
          <div class="fieldset-body expand">
              <div class="two-column-table">
                <div>
                  {% render_field form.title %}
                  {% render_field form.slug %}
                </div>
                <div>
                </div>
                {% render_field form.introduction %}
              </div>
              {% render_field form.description %}
              <div class="two-column-table">
                <div>
                  {% render_field form.collections %}
                  {% render_field form.records %}
                </div>
                <div>
                  {% render_field form.related_entities %}
                  {% render_field form.featured_entities %}
                </div>
              </div>
          </div>
      </fieldset>
    </div>
    <div class="modal" id="log-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Log comments</h2>
          <input type="button" class="icon-only modal-cancel" aria-label="close" value="&#xf00d;" />
        </div>
        <div class="modal-body">
          {% render_field log_form.comment %}
        </div>
        <div class="modal-footer">
          <input type="submit" value="Save" class="save" />
        </div>
      </div>
    </div>
  </form>
  {% endblock content %}
</main>
{% endblock main %}
